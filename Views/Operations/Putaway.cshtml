@model ManufacturingTimeTracking.Controllers.OperationsController.PutawayVm
@{
    ViewData["Title"] = "Putaway";
    var msg = TempData["Msg"] as string;
}
<h2>Putaway</h2>

@if (!string.IsNullOrWhiteSpace(msg))
{
    <div class="alert alert-success">@msg</div>
}

<div class="alert alert-info">
    Recommended order: <strong>TAG â†’ LOCATION</strong>. If the item is not serialized and the tag represents a pack, leave Quantity=1 and the pack will be applied automatically. You can put away to a shelf or to a production station (Workstation location).
</div>

<form method="post" class="card p-3">
    @Html.AntiForgeryToken()

    <div class="row g-3">
        <div class="col-md-5">
            <label class="form-label">TAG (RFID/QR of item or box)</label>
            <input class="form-control form-control-lg" name="TagCode" value="@Model.TagCode" autofocus />
        </div>
        <div class="col-md-5">
            <label class="form-label">LOCATION (shelf or workstation QR)</label>
            <input class="form-control form-control-lg" name="LocationCode" value="@Model.LocationCode" />
        </div>
        <div class="col-md-2">
            <label class="form-label">Quantity</label>
            <input class="form-control form-control-lg" type="number" min="1" name="Quantity" value="@Model.Quantity" />
        </div>
    </div>

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger mt-3">
            @foreach (var err in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <div>@err.ErrorMessage</div>
            }
        </div>
    }

    <div class="mt-3">
        <button class="btn btn-primary btn-lg">Save</button>
        <a class="btn btn-outline-secondary" asp-action="Index">Back</a>
    </div>
</form>
